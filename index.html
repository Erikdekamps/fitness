<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <title>Fitness Tracker</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
    <!-- Home Screen -->
  <div id="homeScreen" class="screen-hidden">
    <div class="header">
      <h1>💪 Fitness Tracker</h1>
    </div>
    
    <div class="machine-container">
      <!-- Quick Start Section -->
      <div class="home-section">
        <h2 class="home-section-title">Quick Start</h2>
        <button type="button" id="startEmptyWorkoutBtn" class="btn-empty-workout">
          <span class="empty-workout-icon">🏋️</span>
          <span class="empty-workout-text">Start Empty Workout</span>
        </button>
      </div>
      
      <!-- Existing Workouts Widget -->
      <div class="workout-widget">
        <button type="button" class="widget-header" id="workoutWidgetToggle">
          <div class="widget-header-content">
            <div class="widget-title">
              <span class="widget-icon">📋</span>
              <span>Workout Plans</span>
            </div>
            <span class="widget-arrow">▼</span>
          </div>
        </button>
        
        <div class="widget-content" id="workoutWidgetContent">
          <div id="homeWorkoutPlans" class="home-workout-plans">
            <!-- Workout plan cards will be rendered here -->
          </div>
          <div class="widget-empty" id="workoutWidgetEmpty" style="display: none;">
            <p>No workout plans yet</p>
            <button type="button" class="btn-secondary" data-nav="settingsPlans">Create Your First Plan</button>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Profile Screen -->
  <div id="profileScreen" class="screen-hidden">
    <div class="header">
      <h1>👤 Profile</h1>
    </div>
    
    <div class="machine-container">
      <div class="home-grid">
        <button type="button" class="home-card" data-nav="settingsPlans">
          <div class="home-card-icon">📋</div>
          <div class="home-card-title">Plans</div>
          <div class="home-card-description">Manage routines</div>
        </button>
        
        <button type="button" class="home-card" data-nav="settingsExercises">
          <div class="home-card-icon">🏋️</div>
          <div class="home-card-title">Exercises</div>
          <div class="home-card-description">Manage machines</div>
        </button>
        
        <button type="button" class="home-card" data-nav="timer">
          <div class="home-card-icon">⏱️</div>
          <div class="home-card-title">Timer</div>
          <div class="home-card-description">Rest timer</div>
        </button>
        
        <button type="button" class="home-card" data-nav="history">
          <div class="home-card-icon">📊</div>
          <div class="home-card-title">History</div>
          <div class="home-card-description">View progress</div>
        </button>
        
        <button type="button" class="home-card" data-nav="settingsMenu">
          <div class="home-card-icon">⚙️</div>
          <div class="home-card-title">Settings</div>
          <div class="home-card-description">Preferences</div>
        </button>
      </div>
    </div>
  </div>

  <!-- Main Tracker Screen -->

  <!-- Main Tracker Screen -->
  <main id="trackerScreen">
    <div class="header">
      <h1>💪 Fitness Tracker</h1>
    </div>
    
    <form id="entryForm">
      <div class="form-group">
        <label for="machine">Machine</label>
        <select id="machine" required>
          <option value="">Select machine</option>
        </select>
      </div>
      
      <div class="form-group">
        <label for="weight">Weight (kg)</label>
        <div class="spinner-input">
          <button type="button" class="spinner-btn" data-action="decrease" data-target="weight">−</button>
          <input type="text" pattern="\d*\.?\d*" id="weight" min="0" max="500" step="2.5" value="20" required>
          <button type="button" class="spinner-btn" data-action="increase" data-target="weight">+</button>
        </div>
      </div>
      
      <div class="form-group">
        <label for="reps">Reps</label>
        <div class="spinner-input">
          <button type="button" class="spinner-btn" data-action="decrease" data-target="reps">−</button>
          <input type="text" pattern="\d*" id="reps" min="1" max="100" step="1" value="10" required>
          <button type="button" class="spinner-btn" data-action="increase" data-target="reps">+</button>
        </div>
      </div>
      
    <button type="submit" class="btn-primary">Add Set</button>
  </form>
  
  <!-- Today's Workout Section -->
  <section id="todaySection" style="display: none;">
    <h2>Today's Workout</h2>
    <div id="todayList" class="today-list"></div>
  </section>
  </main>
  
  <!-- History Screen -->
  <div id="historyScreen" class="screen-hidden">
    <div class="header">
      <div style="width: 2.5rem;"></div>
      <h1>📊 Workout History</h1>
      <div style="width: 2.5rem;"></div>
    </div>
    
    <!-- Total Stats Summary -->
    <section id="historyStatsSummary" class="history-stats-section">
      <!-- Will be populated dynamically -->
    </section>
    
    <!-- Last Workout -->
    <section id="lastWorkoutSection" class="history-section">
      <h2>Last Workout</h2>
      <div id="lastWorkoutContainer"></div>
    </section>
    
    <!-- All History -->
    <section id="allHistorySection" class="history-section">
      <h2>All Workouts</h2>
      <div id="historyList"></div>
    </section>
  </div>
  
  <!-- Workout Detail Screen -->
  <div id="workoutDetailScreen" class="screen-hidden">
    <div class="header">
      <button type="button" id="backFromDetailBtn" class="btn-icon-header" title="Back">←</button>
      <h1 id="workoutDetailTitle">Workout Details</h1>
      <div class="header-spacer"></div>
    </div>
    
    <div id="workoutDetailContent" class="workout-detail-container"></div>
  </div>
  
  <!-- Machine Management Screen -->
  <div id="machineScreen" class="screen-hidden">
    <div class="header">
      <button type="button" id="backFromMachinesBtn" class="btn-icon-header" title="Back">←</button>
      <h1>⚙️ Manage Machines</h1>
      <div class="header-spacer"></div>
    </div>
    
    <div class="machine-container">
      <div class="add-machine-section">
        <div class="add-machine-group">
          <input type="text" id="newMachineName" placeholder="Add new machine..." required>
          <button type="button" id="addMachineBtn" class="btn-add">+</button>
        </div>
      </div>
      
      <div class="machine-list-container">
        <h2>Your Machines</h2>
        <div id="machineList"></div>
      </div>
    </div>
  </div>
  
  <!-- Profile Screen -->
  <div id="profileScreen" class="screen-hidden">
    <div class="header">
      <h1>👤 Profile</h1>
    </div>
    
    <div class="machine-container">
      <div class="home-grid">
        <button type="button" class="home-card" data-nav="history">
          <div class="home-card-icon">📊</div>
          <div class="home-card-title">History</div>
          <div class="home-card-description">View all workouts</div>
        </button>
        
        <button type="button" class="home-card" data-nav="timer">
          <div class="home-card-icon">⏱️</div>
          <div class="home-card-title">Timer</div>
          <div class="home-card-description">Rest countdown</div>
        </button>
        
        <button type="button" class="home-card" data-nav="settings">
          <div class="home-card-icon">⚙️</div>
          <div class="home-card-title">Settings</div>
          <div class="home-card-description">Manage preferences</div>
        </button>
      </div>
    </div>
  </div>

  <!-- Settings Screen -->
  <div id="settingsScreen" class="screen-hidden">
    <div class="header">
      <h1>⚙️ Settings</h1>
    </div>
    
    <div class="machine-container">
      <!-- Settings Menu List -->
      <div class="settings-menu">
        <button type="button" class="settings-menu-item" data-setting-page="defaults">
          <span class="settings-menu-icon">🎯</span>
          <span class="settings-menu-text">Default Values</span>
          <span class="settings-menu-arrow">›</span>
        </button>
        
        <button type="button" class="settings-menu-item" data-setting-page="appearance">
          <span class="settings-menu-icon">🎨</span>
          <span class="settings-menu-text">Appearance</span>
          <span class="settings-menu-arrow">›</span>
        </button>
        
        <button type="button" class="settings-menu-item" data-setting-page="data">
          <span class="settings-menu-icon">💾</span>
          <span class="settings-menu-text">Data Management</span>
          <span class="settings-menu-arrow">›</span>
        </button>
      </div>
    </div>
  </div>
  
  <!-- Settings Sub-Pages -->
  
  <!-- Workout Plans Settings Page -->
  <div id="settingsPlansScreen" class="screen-hidden">
    <div class="header">
      <button type="button" class="btn-icon-header back-to-settings" title="Back">←</button>
      <h1>📋 Workout Plans</h1>
      <div class="header-spacer"></div>
    </div>
    
    <div class="machine-container">
      <button type="button" id="createPlanBtn" class="btn-primary">Create New Plan</button>
      
      <div class="machine-list-container">
        <h2>Your Plans</h2>
        <div id="plansList"></div>
      </div>
    </div>
  </div>
  
  <!-- Exercises Settings Page -->
  <div id="settingsExercisesScreen" class="screen-hidden">
    <div class="header">
      <button type="button" class="btn-icon-header back-to-settings" title="Back">←</button>
      <h1>Exercises</h1>
      <div class="header-spacer"></div>
    </div>
    
    <div class="machine-container">
      <div class="add-machine-section">
        <div class="add-machine-group">
          <input type="text" id="newMachineNameExercises" placeholder="Add new exercise..." required>
          <button type="button" id="addMachineBtnExercises" class="btn-add">+</button>
        </div>
      </div>
      
      <div class="machine-list-container">
        <h2>Your Exercises</h2>
        <div id="machineListExercises"></div>
      </div>
      
      <button type="button" id="sortExercisesBtn" class="btn-secondary" style="margin-top: var(--spacing-xl);">
        Sort Alphabetically A-Z
      </button>
    </div>
  </div>
  
  <!-- Defaults Settings Page -->
  <div id="settingsDefaultsScreen" class="screen-hidden">
    <div class="header">
      <button type="button" class="btn-icon-header back-to-settings" title="Back">←</button>
      <h1>Default Values</h1>
      <div class="header-spacer"></div>
    </div>
    
    <div class="machine-container">
      <div class="settings-section">
        <div class="form-group">
          <label for="weightIncrement">Weight Increment (kg)</label>
          <p class="setting-description">How much weight changes with each +/- button press</p>
          <div class="spinner-input">
            <button type="button" class="spinner-btn" data-action="decrease" data-target="weightIncrement">−</button>
            <input type="text" pattern="\d*\.?\d*" id="weightIncrement" min="0.5" max="10" step="0.5" value="2.5">
            <button type="button" class="spinner-btn" data-action="increase" data-target="weightIncrement">+</button>
          </div>
        </div>
        
        <div class="form-group">
          <label for="defaultWeight">Default Weight (kg)</label>
          <p class="setting-description">Starting weight when no history is available</p>
          <div class="spinner-input">
            <button type="button" class="spinner-btn" data-action="decrease" data-target="defaultWeight">−</button>
            <input type="text" pattern="\d*\.?\d*" id="defaultWeight" min="0" max="500" step="5" value="20">
            <button type="button" class="spinner-btn" data-action="increase" data-target="defaultWeight">+</button>
          </div>
        </div>
        
        <div class="form-group">
          <label for="defaultReps">Default Reps</label>
          <p class="setting-description">Starting reps when no history is available</p>
          <div class="spinner-input">
            <button type="button" class="spinner-btn" data-action="decrease" data-target="defaultReps">−</button>
            <input type="text" pattern="\d*" id="defaultReps" min="1" max="100" step="1" value="10">
            <button type="button" class="spinner-btn" data-action="increase" data-target="defaultReps">+</button>
          </div>
        </div>
        
        <div class="form-group">
          <label for="defaultTimerMinutes">Default Timer Duration (minutes)</label>
          <p class="setting-description">Default rest timer duration between sets</p>
          <div class="spinner-input">
            <button type="button" class="spinner-btn" data-action="decrease" data-target="defaultTimerMinutes">−</button>
            <input type="text" pattern="\d*" id="defaultTimerMinutes" min="0" max="59" step="1" value="3">
            <button type="button" class="spinner-btn" data-action="increase" data-target="defaultTimerMinutes">+</button>
          </div>
        </div>
      </div>
    </div>
  </div>
  
  <!-- Appearance Settings Page -->
  <div id="settingsAppearanceScreen" class="screen-hidden">
    <div class="header">
      <button type="button" class="btn-icon-header back-to-settings" title="Back">←</button>
      <h1>Appearance</h1>
      <div class="header-spacer"></div>
    </div>
    
    <div class="machine-container">
      <div class="settings-section">
        <div class="form-group">
          <label>Font Size</label>
          <p class="setting-description">Adjust the overall text size in the app</p>
          <div class="setting-badges" id="fontSizeBadges">
            <button type="button" class="setting-badge" data-value="tiny">Tiny</button>
            <button type="button" class="setting-badge" data-value="small">Small</button>
            <button type="button" class="setting-badge active" data-value="normal">Normal</button>
            <button type="button" class="setting-badge" data-value="large">Large</button>
            <button type="button" class="setting-badge" data-value="very-large">XL</button>
          </div>
        </div>
        
        <div class="form-group">
          <label>Layout Density</label>
          <p class="setting-description">Adjust spacing and gaps between elements</p>
          <div class="setting-badges" id="layoutDensityBadges">
            <button type="button" class="setting-badge" data-value="narrow">Compact</button>
            <button type="button" class="setting-badge active" data-value="normal">Normal</button>
            <button type="button" class="setting-badge" data-value="wide">Spacious</button>
          </div>
        </div>
        
        <div class="form-group">
          <label>Date Format</label>
          <p class="setting-description">How dates are displayed throughout the app</p>
          <div class="setting-badges" id="dateFormatBadges">
            <button type="button" class="setting-badge" data-value="us">MM/DD/YYYY</button>
            <button type="button" class="setting-badge active" data-value="eu">DD/MM/YYYY</button>
            <button type="button" class="setting-badge" data-value="iso">YYYY-MM-DD</button>
          </div>
        </div>
        
        <div class="form-group">
          <label>Time Format</label>
          <p class="setting-description">12-hour or 24-hour time display</p>
          <div class="setting-badges" id="timeFormatBadges">
            <button type="button" class="setting-badge" data-value="12h">12-hour</button>
            <button type="button" class="setting-badge active" data-value="24h">24-hour</button>
          </div>
        </div>
      </div>
    </div>
  </div>
  
  <!-- Data Management Settings Page -->
  <div id="settingsDataScreen" class="screen-hidden">
    <div class="header">
      <button type="button" class="btn-icon-header back-to-settings" title="Back">←</button>
      <h1>Data Management</h1>
      <div class="header-spacer"></div>
    </div>
    
    <div class="machine-container">
      <div class="settings-section">
        <div class="form-group">
          <label>Backup & Restore</label>
          <p class="setting-description">Export your data for backup or import from a previous export</p>
          <div class="data-management-buttons">
            <button type="button" id="exportDataBtn" class="btn-secondary">📤 Export Data</button>
            <button type="button" id="importDataBtn" class="btn-secondary">📥 Import Data</button>
            <input type="file" id="importFileInput" accept=".json" style="display: none;">
          </div>
        </div>
        
        <div class="form-group">
          <label>Reset App</label>
          <p class="setting-description">⚠️ Warning: This will permanently delete all your data including workout history, plans, and custom exercises. This action cannot be undone!</p>
          <button type="button" id="resetEverythingBtn" class="btn-danger">🗑️ Reset Everything</button>
        </div>
      </div>
    </div>
  </div>
  
  <!-- Create/Edit Plan Screen -->
  <div id="editPlanScreen" class="screen-hidden">
    <div class="header">
      <button type="button" id="backFromEditPlanBtn" class="btn-icon-header" title="Back">←</button>
      <h1 id="editPlanTitle">✏️ Create Plan</h1>
      <div style="width: 2.5rem;"></div>
    </div>
    
    <div class="machine-container">
      <form id="editPlanForm">
        <div class="form-group">
          <label for="planName">Plan Name</label>
          <input type="text" id="planName" placeholder="e.g., Upper Body Day" required class="edit-input">
        </div>
        
        <div class="form-group">
          <label>Exercises</label>
          <div id="planExercises"></div>
          <button type="button" id="addExerciseBtn" class="btn-secondary">+ Add Exercise</button>
        </div>
        
        <button type="submit" class="btn-primary">Save Plan</button>
      </form>
    </div>
  </div>
  
  <!-- Active Workout Session Screen -->
  <div id="activeWorkoutScreen" class="screen-hidden">
    <div class="header">
      <button type="button" id="cancelWorkoutBtn" class="btn-icon-header" title="Cancel">✕</button>
      <h1 id="activeWorkoutTitle">🏋️ Workout</h1>
      <div style="width: 2.5rem;"></div>
    </div>
    
    <div class="workout-container">
      <div id="workoutTimeDisplay" class="workout-time-display" style="display: none;">
        <div class="workout-time-label">Elapsed Time</div>
        <span id="workoutElapsedTime">00:00</span>
        <div id="workoutStartTime" class="workout-start-time"></div>
      </div>
      
      <div class="workout-progress">
        <div class="progress-bar">
          <div id="progressBarFill" class="progress-bar-fill"></div>
        </div>
        <div class="progress-text">
          <span id="progressCurrent">0</span> / <span id="progressTotal">0</span> exercises
        </div>
      </div>
      
      <div id="workoutExercises"></div>
      
      <button type="button" id="finishWorkoutBtn" class="btn-primary" style="display: none;">Finish Workout</button>
    </div>
  </div>
  
  <!-- Timer/Stopwatch Screen -->
  <div id="timerScreen" class="screen-hidden">
    <div class="header">
      <div style="width: 2.5rem;"></div>
      <h1>⏱️ Timer</h1>
      <div style="width: 2.5rem;"></div>
    </div>
    
    <div class="timer-container">
      <div class="tabs">
        <button type="button" class="tab-btn active" data-tab="timer">Timer</button>
        <button type="button" class="tab-btn" data-tab="stopwatch">Stopwatch</button>
      </div>
      
      <div id="timerTab" class="tab-content active">
        <div class="timer">
          <div class="timer-display">00:00</div>
          <div class="timer-setup">
            <div class="timer-inputs">
              <div class="timer-input-group">
                <input type="text" pattern="\d*" inputmode="numeric" id="timerMinutes" min="0" max="59" value="0">
                <label>min</label>
              </div>
              <div class="timer-separator">:</div>
              <div class="timer-input-group">
                <input type="text" pattern="\d*" inputmode="numeric" id="timerSeconds" min="0" max="59" value="0">
                <label>sec</label>
              </div>
            </div>
          </div>
          <div class="timer-controls">
            <button type="button" id="timerStartBtn" class="btn-timer start">Start</button>
            <button type="button" id="timerResetBtn" class="btn-timer reset">Reset</button>
          </div>
        </div>
      </div>
      
      <div id="stopwatchTab" class="tab-content">
        <div class="stopwatch">
          <div class="stopwatch-display">00:00:00</div>
          <div class="stopwatch-controls">
            <button type="button" id="stopwatchStartBtn" class="btn-timer start">Start</button>
            <button type="button" id="stopwatchResetBtn" class="btn-timer reset">Reset</button>
          </div>
          <div class="stopwatch-laps">
            <h3>Laps</h3>
            <div id="lapsContainer" class="laps-list"></div>
          </div>
        </div>
      </div>
    </div>
  </div>
  
  <!-- Bottom Navigation Bar (iOS Style) -->
  <nav id="bottomNav" class="bottom-nav">
    <button type="button" id="navHome" class="nav-btn" title="Home">
      <div class="nav-icon">🏠</div>
      <div class="nav-label">Home</div>
    </button>
    <button type="button" id="navWorkout" class="nav-btn active" title="Workout">
      <div class="nav-icon">💪</div>
      <div class="nav-label">Workout</div>
    </button>
    <button type="button" id="navProfile" class="nav-btn" title="Profile">
      <div class="nav-icon">👤</div>
      <div class="nav-label">Profile</div>
    </button>
  </nav>
  
  <script src="app.js"></script>
</body>
</html>
