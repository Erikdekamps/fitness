<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <title>Fitness Tracker</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <!-- Main Tracker Screen -->
  <main id="trackerScreen">
    <div class="header">
      <h1>üí™ Fitness Tracker</h1>
    </div>
    
    <div id="planSelector" class="plan-selector" style="display: none;">
      <label for="activePlan">Quick Start Plan</label>
      <div class="plan-select-group">
        <select id="activePlan">
          <option value="">No plan selected</option>
        </select>
        <button type="button" id="startPlanBtn" class="btn-start-plan">Start</button>
      </div>
    </div>
    
    <div class="plans-action-section">
      <button type="button" id="managePlansBtn" class="btn-secondary btn-manage-plans">üìã Manage Workout Plans</button>
    </div>
    
    <form id="entryForm">
      <div class="form-group">
        <label for="machine">Machine</label>
        <select id="machine" required>
          <option value="">Select machine</option>
        </select>
      </div>
      
      <div class="form-group">
        <label for="weight">Weight (kg)</label>
        <div class="spinner-input">
          <button type="button" class="spinner-btn" data-action="decrease" data-target="weight">‚àí</button>
          <input type="text" pattern="\d*\.?\d*" id="weight" min="0" max="500" step="2.5" value="20" required>
          <button type="button" class="spinner-btn" data-action="increase" data-target="weight">+</button>
        </div>
      </div>
      
      <div class="form-group">
        <label for="reps">Reps</label>
        <div class="spinner-input">
          <button type="button" class="spinner-btn" data-action="decrease" data-target="reps">‚àí</button>
          <input type="text" pattern="\d*" id="reps" min="1" max="100" step="1" value="10" required>
          <button type="button" class="spinner-btn" data-action="increase" data-target="reps">+</button>
        </div>
      </div>
      
    <button type="submit" class="btn-primary">Add Set</button>
  </form>
  
  <!-- Today's Workout Section -->
  <section id="todaySection" style="display: none;">
    <h2>Today's Workout</h2>
    <div id="todayList" class="today-list"></div>
  </section>
  </main>
  
  <!-- History Screen -->
  <div id="historyScreen" class="screen-hidden">
    <div class="header">
      <div style="width: 2.5rem;"></div>
      <h1>üìä Workout History</h1>
      <div style="width: 2.5rem;"></div>
    </div>
    
    <!-- Total Stats Summary -->
    <section id="historyStatsSummary" class="history-stats-section">
      <!-- Will be populated dynamically -->
    </section>
    
    <!-- Last Workout -->
    <section id="lastWorkoutSection" class="history-section">
      <h2>Last Workout</h2>
      <div id="lastWorkoutContainer"></div>
    </section>
    
    <!-- All History -->
    <section id="allHistorySection" class="history-section">
      <h2>All Workouts</h2>
      <div id="historyList"></div>
    </section>
  </div>
  
  <!-- Workout Detail Screen -->
  <div id="workoutDetailScreen" class="screen-hidden">
    <div class="header">
      <button type="button" id="backFromDetailBtn" class="btn-icon-header" title="Back">‚Üê</button>
      <h1 id="workoutDetailTitle">Workout Details</h1>
      <div class="header-spacer"></div>
    </div>
    
    <div id="workoutDetailContent" class="workout-detail-container"></div>
  </div>
  
  <!-- Machine Management Screen -->
  <div id="machineScreen" class="screen-hidden">
    <div class="header">
      <h1>‚öôÔ∏è Manage Machines</h1>
    </div>
    
    <div class="machine-container">
      <div class="add-machine-section">
        <div class="add-machine-group">
          <input type="text" id="newMachineName" placeholder="Add new machine..." required>
          <button type="button" id="addMachineBtn" class="btn-add">+</button>
        </div>
      </div>
      
      <div class="machine-list-container">
        <h2>Your Machines</h2>
        <div id="machineList"></div>
      </div>
    </div>
  </div>
  
  <!-- Settings Screen -->
  <div id="settingsScreen" class="screen-hidden">
    <div class="header">
      <h1>‚öôÔ∏è Settings</h1>
    </div>
    
    <div class="machine-container">
      <div class="form-group">
        <label for="weightIncrement">Weight Increment (kg)</label>
        <p class="setting-description">How much weight changes with each +/- button press</p>
        <div class="spinner-input">
          <button type="button" class="spinner-btn" data-action="decrease" data-target="weightIncrement">‚àí</button>
          <input type="text" pattern="\d*\.?\d*" id="weightIncrement" min="0.5" max="10" step="0.5" value="2.5">
          <button type="button" class="spinner-btn" data-action="increase" data-target="weightIncrement">+</button>
        </div>
      </div>
      
      <div class="form-group">
        <label for="defaultWeight">Default Weight (kg)</label>
        <p class="setting-description">Starting weight when no history is available</p>
        <div class="spinner-input">
          <button type="button" class="spinner-btn" data-action="decrease" data-target="defaultWeight">‚àí</button>
          <input type="text" pattern="\d*\.?\d*" id="defaultWeight" min="0" max="500" step="5" value="20">
          <button type="button" class="spinner-btn" data-action="increase" data-target="defaultWeight">+</button>
        </div>
      </div>
      
      <div class="form-group">
        <label for="defaultReps">Default Reps</label>
        <p class="setting-description">Starting reps when no history is available</p>
        <div class="spinner-input">
          <button type="button" class="spinner-btn" data-action="decrease" data-target="defaultReps">‚àí</button>
          <input type="text" pattern="\d*" id="defaultReps" min="1" max="100" step="1" value="10">
          <button type="button" class="spinner-btn" data-action="increase" data-target="defaultReps">+</button>
        </div>
      </div>
      
      <div class="form-group">
        <label for="fontSize">Font Size</label>
        <p class="setting-description">Adjust the overall text size in the app</p>
        <select id="fontSize">
          <option value="tiny">Tiny (80%)</option>
          <option value="small">Small (90%)</option>
          <option value="normal" selected>Normal (100%)</option>
          <option value="large">Large (110%)</option>
          <option value="very-large">Very Large (120%)</option>
        </select>
      </div>
      
      <div class="form-group">
        <label for="layoutDensity">Layout Density</label>
        <p class="setting-description">Adjust spacing and gaps between elements</p>
        <select id="layoutDensity">
          <option value="narrow">Narrow (Compact)</option>
          <option value="normal" selected>Normal</option>
          <option value="wide">Wide (Spacious)</option>
        </select>
      </div>
      
      <div class="form-group">
        <label for="dateFormat">Date Format</label>
        <p class="setting-description">How dates are displayed throughout the app</p>
        <select id="dateFormat">
          <option value="us">US (MM/DD/YYYY)</option>
          <option value="eu" selected>EU (DD/MM/YYYY)</option>
          <option value="iso">ISO (YYYY-MM-DD)</option>
        </select>
      </div>
      
      <div class="form-group">
        <label for="timeFormat">Time Format</label>
        <p class="setting-description">12-hour or 24-hour time display</p>
        <select id="timeFormat">
          <option value="12h">12-hour (AM/PM)</option>
          <option value="24h" selected>24-hour</option>
        </select>
      </div>
      
      <div class="form-group">
        <label for="defaultTimerMinutes">Default Timer Duration (minutes)</label>
        <p class="setting-description">Default rest timer duration between sets</p>
        <div class="spinner-input">
          <button type="button" class="spinner-btn" data-action="decrease" data-target="defaultTimerMinutes">‚àí</button>
          <input type="text" pattern="\d*" id="defaultTimerMinutes" min="0" max="59" step="1" value="3">
          <button type="button" class="spinner-btn" data-action="increase" data-target="defaultTimerMinutes">+</button>
        </div>
      </div>
    </div>
  </div>
  
  <!-- Workout Plans Screen -->
  <div id="plansScreen" class="screen-hidden">
    <div class="header">
      <button type="button" id="backFromPlansBtn" class="btn-icon-header" title="Back">‚Üê</button>
      <h1>üìã Workout Plans</h1>
      <div style="width: 2.5rem;"></div>
    </div>
    
    <div class="machine-container">
      <button type="button" id="createPlanBtn" class="btn-primary">Create New Plan</button>
      
      <div class="machine-list-container">
        <h2>Your Plans</h2>
        <div id="plansList"></div>
      </div>
    </div>
  </div>
  
  <!-- Create/Edit Plan Screen -->
  <div id="editPlanScreen" class="screen-hidden">
    <div class="header">
      <button type="button" id="backFromEditPlanBtn" class="btn-icon-header" title="Back">‚Üê</button>
      <h1 id="editPlanTitle">‚úèÔ∏è Create Plan</h1>
      <div style="width: 2.5rem;"></div>
    </div>
    
    <div class="machine-container">
      <form id="editPlanForm">
        <div class="form-group">
          <label for="planName">Plan Name</label>
          <input type="text" id="planName" placeholder="e.g., Upper Body Day" required class="edit-input">
        </div>
        
        <div class="form-group">
          <label>Exercises</label>
          <div id="planExercises"></div>
          <button type="button" id="addExerciseBtn" class="btn-secondary">+ Add Exercise</button>
        </div>
        
        <button type="submit" class="btn-primary">Save Plan</button>
      </form>
    </div>
  </div>
  
  <!-- Active Workout Session Screen -->
  <div id="activeWorkoutScreen" class="screen-hidden">
    <div class="header">
      <button type="button" id="cancelWorkoutBtn" class="btn-icon-header" title="Cancel">‚úï</button>
      <h1 id="activeWorkoutTitle">üèãÔ∏è Workout</h1>
      <div style="width: 2.5rem;"></div>
    </div>
    
    <div class="workout-container">
      <div class="workout-progress">
        <div class="progress-bar">
          <div id="progressBarFill" class="progress-bar-fill"></div>
        </div>
        <div class="progress-text">
          <span id="progressCurrent">0</span> / <span id="progressTotal">0</span> exercises
        </div>
      </div>
      
      <div id="workoutExercises"></div>
      
      <button type="button" id="finishWorkoutBtn" class="btn-primary" style="display: none;">Finish Workout</button>
    </div>
  </div>
  
  <!-- Timer/Stopwatch Screen -->
  <div id="timerScreen" class="screen-hidden">
    <div class="header">
      <div style="width: 2.5rem;"></div>
      <h1>‚è±Ô∏è Timer</h1>
      <div style="width: 2.5rem;"></div>
    </div>
    
    <div class="timer-container">
      <div class="tabs">
        <button type="button" class="tab-btn active" data-tab="timer">Timer</button>
        <button type="button" class="tab-btn" data-tab="stopwatch">Stopwatch</button>
      </div>
      
      <div id="timerTab" class="tab-content active">
        <div class="timer">
          <div class="timer-setup">
            <div class="timer-inputs">
              <div class="timer-input-group">
                <input type="text" pattern="\d*" id="timerMinutes" min="0" max="59" value="0">
                <label>min</label>
              </div>
              <div class="timer-separator">:</div>
              <div class="timer-input-group">
                <input type="text" pattern="\d*" id="timerSeconds" min="0" max="59" value="0">
                <label>sec</label>
              </div>
            </div>
          </div>
          <div class="timer-display">00:00</div>
          <div class="timer-controls">
            <button type="button" id="timerStartBtn" class="btn-timer start">Start</button>
            <button type="button" id="timerResetBtn" class="btn-timer reset">Reset</button>
          </div>
        </div>
      </div>
      
      <div id="stopwatchTab" class="tab-content">
        <div class="stopwatch">
          <div class="stopwatch-display">00:00:00</div>
          <div class="stopwatch-controls">
            <button type="button" id="stopwatchStartBtn" class="btn-timer start">Start</button>
            <button type="button" id="stopwatchResetBtn" class="btn-timer reset">Reset</button>
          </div>
          <div class="stopwatch-laps">
            <h3>Laps</h3>
            <div id="lapsContainer" class="laps-list"></div>
          </div>
        </div>
      </div>
    </div>
  </div>
  
  <!-- Bottom Navigation Bar (iOS Style) -->
  <nav id="bottomNav" class="bottom-nav">
    <button type="button" id="navExercises" class="nav-btn" title="Exercises">
      <div class="nav-icon">üèãÔ∏è</div>
      <div class="nav-label">Exercises</div>
    </button>
    <button type="button" id="navTimer" class="nav-btn" title="Timer">
      <div class="nav-icon">‚è±Ô∏è</div>
      <div class="nav-label">Timer</div>
    </button>
    <button type="button" id="navWorkout" class="nav-btn active" title="Workout">
      <div class="nav-icon">‚ñ∂Ô∏è</div>
      <div class="nav-label">Workout</div>
    </button>
    <button type="button" id="navHistory" class="nav-btn" title="History">
      <div class="nav-icon">üìä</div>
      <div class="nav-label">History</div>
    </button>
    <button type="button" id="navSettings" class="nav-btn" title="Settings" style="margin-left:auto;">
      <div class="nav-icon">‚öôÔ∏è</div>
      <div class="nav-label">Settings</div>
    </button>
  </nav>
  
  <script src="app.js"></script>
</body>
</html>
